[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = ""
  omit_hostname = false
[global_tags]
  system = "os"                 # tag name
  instance = "192.168.43.251"   # physical ip
  # hostname = "192.168.2.23:8893"
[[inputs.easedba_cpu]]
  percpu = true
  totalcpu = true
  collect_cpu_time = true
[[inputs.easedba_disk]]
  ignore_fs = ["tmpfs", "devtmpfs", "devfs", "iso9660", "overlay", "aufs", "squashfs"]
[[inputs.easedba_diskio]]
  devices = ["disk0","disk2"]
[[inputs.easedba_mem]]
[[inputs.easedba_net]]
[[inputs.easedba_mysql]]
   servers = ["dbmon:Dbmon#1234@tcp(192.168.43.251:33091)/?tls=false","dbmon:Dbmon#1234@tcp(192.168.43.251:33092)/?tls=false"]
   gather_global_statuses = true
   gather_innodb  = true
   gather_connection_statuses  = true
   gather_db_sizes = true
   gather_replication = true
   gather_snapshot = true

[[outputs.easedba_elasticsearch]]
  debug = true
  urls = [ "http://127.0.0.1:9200" ]
  timeout = "5s"
  #index_name = "easedba-{{measurement}}-%Y.%m.%d"
  index_name = "easedba-monitor-metrics-mysql-%t-%Y.%m.%d"

[outputs.easedba_elasticsearch.filters]
    global_tags = ["instance"]
    [outputs.easedba_elasticsearch.filters.metrics.cpu]
        fields = ["usage_user", "usage_system", "usage_idle", "usage_nice", "cpu_usage_user", "cpu_usage_system","cpu_usage_idle","cpu_usage_nice"]
        tags = ["system", "host"]
        custom_tags = { category = "infrastructure" }
    [outputs.easedba_elasticsearch.filters.metrics.mem]
        fields = ["total", "used","used_percent","buffered","cached"]
        tags = ["system", "host"]
        custom_tags = { category = "infrastructure" }
    [outputs.easedba_elasticsearch.filters.metrics.net]
        fields = ["bytes_sent", "bytes_recv","packets_sent","packets_recv","err_in","err_out","drop_in","drop_out"]
        tags = ["system", "host"]
        custom_tags = { category = "infrastructure" }
    [outputs.easedba_elasticsearch.filters.metrics.disk]
        fields = ["free", "total","used","used_percent"]
        tags = ["system", "host"]
        custom_tags = { category = "infrastructure" }
    [outputs.easedba_elasticsearch.filters.metrics.diskio]
        fields = ["reads", "writes", "read_bytes", "write_bytes", "read_time", "write_time", "io_time", "weighted_io_time", "iops_in_progress","device_name"]
        tags = ["system", "host", "name"]
        custom_tags = { category = "infrastructure" }
    [outputs.easedba_elasticsearch.filters.metrics.throughput]
        fields = ["slow_sql_count","com_insert", "com_select", "com_insert_select", "com_replace", "com_replace_select", "com_update", "com_update_multi", "com_delete", "com_delete_multi", "com_commit", "com_rollback", "com_stmt_execute", "com_call_procedure", "slow_queries",  "threads_connected", "threads_running", "aborted_clients", "aborted_connects", "locked_connects", "innodb_rows_read", "innodb_rows_deleted", "innodb_rows_inserted", "innodb_rows_updated", "innodb_buffer_pool_reads", "innodb_buffer_pool_read_requests", "innodb_buffer_pool_write_requests", "innodb_buffer_pool_pages_flushed", "innodb_buffer_pool_wait_free", "innodb_row_lock_current_waits", "binlog_cache_disk_use", "binlog_stmt_cache_disk_use", "created_tmp_disk_tables",   "slave_io_running", "slave_sql_running", "seconds_behind_master", "read_master_log_pos", "exec_master_log_pos", "sql_delay", "last_sql_errno", "last_io_errno", "last_sql_error", "last_io_error", "master_position", "sql_snapshot", "slow_query_count", "long_[_count", "trx_snapshot","trx_history","table_data_size","table_index_size", "binary_log_size"]
        tags = ["system", "host", "server"]
        custom_tags = { category = "platform" }
    [outputs.easedba_elasticsearch.filters.metrics.innodb]
        fields = ["slow_sql_count","com_insert", "com_select", "com_insert_select", "com_replace", "com_replace_select", "com_update", "com_update_multi", "com_delete", "com_delete_multi", "com_commit", "com_rollback", "com_stmt_execute", "com_call_procedure", "slow_queries",  "threads_connected", "threads_running", "aborted_clients", "aborted_connects", "locked_connects", "innodb_rows_read", "innodb_rows_deleted", "innodb_rows_inserted", "innodb_rows_updated", "innodb_buffer_pool_reads", "innodb_buffer_pool_read_requests", "innodb_buffer_pool_write_requests", "innodb_buffer_pool_pages_flushed", "innodb_buffer_pool_wait_free", "innodb_row_lock_current_waits", "binlog_cache_disk_use", "binlog_stmt_cache_disk_use", "created_tmp_disk_tables",   "slave_io_running", "slave_sql_running", "seconds_behind_master", "read_master_log_pos", "exec_master_log_pos", "sql_delay", "last_sql_errno", "last_io_errno", "last_sql_error", "last_io_error", "master_position", "sql_snapshot", "slow_query_count", "long_trx_count", "trx_snapshot","trx_history","table_data_size","table_index_size", "binary_log_size"]
        tags = ["system", "host", "server"]
        custom_tags = { category = "platform" }
    [outputs.easedba_elasticsearch.filters.metrics.connection]
        fields = ["slow_sql_count","com_insert", "com_select", "com_insert_select", "com_replace", "com_replace_select", "com_update", "com_update_multi", "com_delete", "com_delete_multi", "com_commit", "com_rollback", "com_stmt_execute", "com_call_procedure", "slow_queries",  "threads_connected", "threads_running", "aborted_clients", "aborted_connects", "locked_connects", "innodb_rows_read", "innodb_rows_deleted", "innodb_rows_inserted", "innodb_rows_updated", "innodb_buffer_pool_reads", "innodb_buffer_pool_read_requests", "innodb_buffer_pool_write_requests", "innodb_buffer_pool_pages_flushed", "innodb_buffer_pool_wait_free", "innodb_row_lock_current_waits", "binlog_cache_disk_use", "binlog_stmt_cache_disk_use", "created_tmp_disk_tables",   "slave_io_running", "slave_sql_running", "seconds_behind_master", "read_master_log_pos", "exec_master_log_pos", "sql_delay", "last_sql_errno", "last_io_errno", "last_sql_error", "last_io_error", "master_position", "sql_snapshot", "slow_query_count", "long_trx_count", "trx_snapshot","trx_history","table_data_size","table_index_size", "binary_log_size"]
        tags = ["system", "host", "server"]
        custom_tags = { category = "platform" }
    [outputs.easedba_elasticsearch.filters.metrics.dbsize]
        fields = ["slow_sql_count","com_insert", "com_select", "com_insert_select", "com_replace", "com_replace_select", "com_update", "com_update_multi", "com_delete", "com_delete_multi", "com_commit", "com_rollback", "com_stmt_execute", "com_call_procedure", "slow_queries",  "threads_connected", "threads_running", "aborted_clients", "aborted_connects", "locked_connects", "innodb_rows_read", "innodb_rows_deleted", "innodb_rows_inserted", "innodb_rows_updated", "innodb_buffer_pool_reads", "innodb_buffer_pool_read_requests", "innodb_buffer_pool_write_requests", "innodb_buffer_pool_pages_flushed", "innodb_buffer_pool_wait_free", "innodb_row_lock_current_waits", "binlog_cache_disk_use", "binlog_stmt_cache_disk_use", "created_tmp_disk_tables",   "slave_io_running", "slave_sql_running", "seconds_behind_master", "read_master_log_pos", "exec_master_log_pos", "sql_delay", "last_sql_errno", "last_io_errno", "last_sql_error", "last_io_error", "master_position", "sql_snapshot", "slow_query_count", "long_trx_count", "trx_snapshot","trx_history","table_data_size","table_index_size", "binary_log_size"]
        tags = ["system", "host", "server"]
        custom_tags = { category = "platform" }
    [outputs.easedba_elasticsearch.filters.metrics.replication]
        fields = ["slow_sql_count","com_insert", "com_select", "com_insert_select", "com_replace", "com_replace_select", "com_update", "com_update_multi", "com_delete", "com_delete_multi", "com_commit", "com_rollback", "com_stmt_execute", "com_call_procedure", "slow_queries",  "threads_connected", "threads_running", "aborted_clients", "aborted_connects", "locked_connects", "innodb_rows_read", "innodb_rows_deleted", "innodb_rows_inserted", "innodb_rows_updated", "innodb_buffer_pool_reads", "innodb_buffer_pool_read_requests", "innodb_buffer_pool_write_requests", "innodb_buffer_pool_pages_flushed", "innodb_buffer_pool_wait_free", "innodb_row_lock_current_waits", "binlog_cache_disk_use", "binlog_stmt_cache_disk_use", "created_tmp_disk_tables",   "slave_io_running", "slave_sql_running", "seconds_behind_master", "read_master_log_pos", "exec_master_log_pos", "sql_delay", "last_sql_errno", "last_io_errno", "last_sql_error", "last_io_error", "master_position", "sql_snapshot", "slow_query_count", "long_trx_count", "trx_snapshot","trx_history","table_data_size","table_index_size", "binary_log_size"]
        tags = ["system", "host", "server"]
        custom_tags = { category = "platform" }
    [outputs.easedba_elasticsearch.filters.metrics.snapshot]
        fields = ["slow_sql_count","com_insert", "com_select", "com_insert_select", "com_replace", "com_replace_select", "com_update", "com_update_multi", "com_delete", "com_delete_multi", "com_commit", "com_rollback", "com_stmt_execute", "com_call_procedure", "slow_queries",  "threads_connected", "threads_running", "aborted_clients", "aborted_connects", "locked_connects", "innodb_rows_read", "innodb_rows_deleted", "innodb_rows_inserted", "innodb_rows_updated", "innodb_buffer_pool_reads", "innodb_buffer_pool_read_requests", "innodb_buffer_pool_write_requests", "innodb_buffer_pool_pages_flushed", "innodb_buffer_pool_wait_free", "innodb_row_lock_current_waits", "binlog_cache_disk_use", "binlog_stmt_cache_disk_use", "created_tmp_disk_tables",   "slave_io_running", "slave_sql_running", "seconds_behind_master", "read_master_log_pos", "exec_master_log_pos", "sql_delay", "last_sql_errno", "last_io_errno", "last_sql_error", "last_io_error", "master_position", "sql_snapshot", "slow_query_count", "long_trx_count", "trx_snapshot","trx_history","table_data_size","table_index_size", "binary_log_size"]
        tags = ["system", "host", "server"]
        custom_tags = { category = "platform" }
